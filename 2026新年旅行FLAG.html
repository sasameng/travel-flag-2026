<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026æ–°å¹´æ—…è¡ŒFLAGæµ·æŠ¥ç”Ÿæˆå™¨</title>
    <!-- å¼•å…¥html2canvasæ ¸å¿ƒåº“ -->
    <script src="https://cdn.bootcdn.net/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "å¾®è½¯é›…é»‘", sans-serif;
        }
        body {
            background-color: #f5f5f5;
            padding: 20px;
        }
        /* è¡¨å•æ ·å¼ */
        .wish-form {
            max-width: 600px;
            margin: 0 auto 30px;
            background: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .wish-form h2 {
            text-align: center;
            color: #2d7d9a;
            margin-bottom: 25px;
            font-size: 24px;
        }
        /* è¡¨å•åˆ†åŒºæ ‡é¢˜ */
        .form-section-title {
            color: #2d7d9a;
            font-size: 18px;
            font-weight: bold;
            margin: 20px 0 10px 0;
            padding-bottom: 5px;
            border-bottom: 1px solid #eee;
        }
        .form-item {
            margin-bottom: 18px;
        }
        .form-item label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }
        .form-item input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        /* ä¸‰ä¸ªç›®çš„åœ°è¾“å…¥æ¡†å®¹å™¨ */
        .destinations-group {
            display: flex;
            gap: 10px;
            margin-bottom: 18px;
        }
        .destinations-group .form-item {
            flex: 1;
            margin-bottom: 0;
        }
        .destinations-group label {
            font-size: 14px;
            color: #666;
        }
        #generateBtn {
            width: 100%;
            padding: 12px;
            background-color: #2d7d9a;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 10px;
        }
        #generateBtn:hover {
            background-color: #23627a;
        }

        /* æµ·æŠ¥å®¹å™¨ */
        .poster-container {
            max-width: 600px;
            margin: 0 auto;
            display: none;
        }
        /* æµ·æŠ¥æ¨¡æ¿ï¼ˆä½¿ç”¨ä½ ä¸Šä¼ çš„èƒŒæ™¯å›¾ï¼‰ */
        #posterTemplate {
            width: 100%;
            height: 800px;
            background: url("https://p11-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/016ae3eec9134367b1c35235fe5f2ed0.jpg~tplv-a9rns2rl98-24:720:720.image?rcl=202512301105055115A15D78DD1DE51357&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1767668706&x-signature=%2Fuv2RpkXzbVnVKK9gLkIgLbzKvw%3D") no-repeat center/cover;
            border-radius: 15px;
            padding: 40px 30px;
            position: relative;
            overflow: hidden;
        }
        /* æµ·æŠ¥è£…é¥°é®ç½©ï¼ˆæå‡æ–‡å­—å¯è¯»æ€§ï¼‰ */
        #posterTemplate::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.25);
            z-index: 1;
        }
        /* æµ·æŠ¥å†…å®¹å±‚ï¼ˆé«˜äºé®ç½©ï¼‰ */
        .poster-content {
            position: relative;
            z-index: 2;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center; /* å‚ç›´å±…ä¸­ï¼Œå‡å°‘ç©ºç™½ */
            color: #fff;
            text-align: center; /* å…¨å±€æ–‡å­—å±…ä¸­ */
        }
        /* æµ·æŠ¥æ ‡é¢˜ */
        .poster-title {
            font-size: 40px;
            font-weight: bold;
            margin-bottom: 35px;
            text-shadow: 0 3px 10px rgba(0,0,0,0.6);
            letter-spacing: 2px; /* å¢åŠ å­—é—´è·æ›´é†’ç›® */
        }
        /* æµ·æŠ¥åˆ†åŒºæ ‡é¢˜ */
        .poster-section-title {
            font-size: 24px;
            color: #ffd700;
            font-weight: bold;
            margin: 25px 0 15px 0;
            text-shadow: 0 2px 8px rgba(0,0,0,0.5);
            letter-spacing: 1px;
        }
        /* ç”¨æˆ·ä¿¡æ¯å±•ç¤º */
        .user-info {
            font-size: 20px;
            margin-bottom: 15px;
            text-shadow: 0 2px 8px rgba(0,0,0,0.5);
            line-height: 2;
        }
        .user-info span {
            font-weight: bold;
            color: #ffd700;
        }
        /* ç›®çš„åœ°å’Œå›é¡¾å†…å®¹å®¹å™¨ */
        .destinations-content, .review-content {
            background: rgba(255, 255, 255, 0.9);
            padding: 25px 20px;
            border-radius: 10px;
            font-size: 18px;
            line-height: 2.2;
            color: #222;
            margin: 0 auto 15px;
            width: 90%; /* é™åˆ¶å®½åº¦ï¼Œå±…ä¸­æ˜¾ç¤º */
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        .destinations-content strong, .review-content strong {
            color: #2d7d9a;
            font-size: 19px;
        }
        /* ä¿å­˜æŒ‰é’® */
        #saveBtn {
            width: 100%;
            padding: 12px;
            background-color: #28a745;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            margin-top: 15px;
            transition: background 0.3s;
        }
        #saveBtn:hover {
            background-color: #218838;
        }

        /* å“åº”å¼é€‚é…æ‰‹æœº */
        @media (max-width: 600px) {
            .destinations-group {
                flex-direction: column;
                gap: 15px;
            }
            #posterTemplate {
                height: 850px;
                padding: 25px 15px;
            }
            .poster-title {
                font-size: 32px;
            }
            .poster-section-title {
                font-size: 20px;
            }
            .user-info {
                font-size: 18px;
            }
            .destinations-content, .review-content {
                font-size: 16px;
                width: 95%;
                padding: 20px 15px;
            }
        }
    </style>
</head>
<body>
    <!-- å¡«å†™è¡¨å• -->
    <div class="wish-form">
        <h2>æˆ‘çš„2026æ–°å¹´æ—…è¡ŒFLAG</h2>
        
        <div class="form-item">
            <label for="username">ä½ çš„åå­—</label>
            <input type="text" id="username" placeholder="è¯·è¾“å…¥ä½ çš„åå­—" required>
        </div>
        <div class="form-item">
            <label for="travelGoal">ä¸€ä¸ªæ—…è¡Œå°ç›®æ ‡</label>
            <input type="text" id="travelGoal" placeholder="ä¾‹å¦‚ï¼šå­¦ä¼šè‡ªç”±æ½œï¼Œæ—©èµ·çœ‹æ—¥å‡ºï¼Œå¸¦ç‹—å­å‡ºæ¸¸ç­‰" required>
        </div>

        <!-- æœ€æƒ³è§£é”çš„ä¸‰ä¸ªæ—…è¡Œç›®çš„åœ° -->
        <div class="form-section-title">æ–°ç¨‹å¾…è§£é”</div>
        <label style="margin-bottom: 8px; color: #333; font-weight: 500;">æœ€æƒ³è§£é”çš„ä¸‰ä¸ªæ—…è¡Œç›®çš„åœ°</label>
        <div class="destinations-group">
            <div class="form-item">
                <label>ç›®çš„åœ°1ï¼ˆä¾‹ï¼šè¥¿ç­ç‰™ï¼‰</label>
                <input type="text" id="dest1" placeholder="è¯·è¾“å…¥ç¬¬ä¸€ä¸ªç›®çš„åœ°">
            </div>
            <div class="form-item">
                <label>ç›®çš„åœ°2ï¼ˆä¾‹ï¼šå¦æ¡‘å°¼äºšï¼‰</label>
                <input type="text" id="dest2" placeholder="è¯·è¾“å…¥ç¬¬äºŒä¸ªç›®çš„åœ°">
            </div>
            <div class="form-item">
                <label>ç›®çš„åœ°3ï¼ˆä¾‹ï¼šå†°å²›ï¼‰</label>
                <input type="text" id="dest3" placeholder="è¯·è¾“å…¥ç¬¬ä¸‰ä¸ªç›®çš„åœ°">
            </div>
        </div>

        <!-- æ–°å¢æ—…è¡Œå›é¡¾æ¿å— -->
        <div class="form-section-title">æ—…è¡Œå›å¿†å½•</div>
        <div class="form-item">
            <label for="farthestPlace">å»è¿‡æœ€è¿œçš„åœ°æ–¹</label>
            <input type="text" id="farthestPlace" placeholder="ä¾‹å¦‚ï¼šå—æï¼Œé˜¿æ ¹å»·ï¼Œæ–°è¥¿å…°ç­‰">
        </div>
        <div class="form-item">
            <label for="bestSunriseSunset">æœ€ç¾çš„æ—¥å‡º/æ—¥è½åœ¨å“ªé‡Œ</label>
            <input type="text" id="bestSunriseSunset" placeholder="ä¾‹å¦‚ï¼šå·´å˜å²›é‡‘å·´å…°æµ·æ»©ï¼Œé’æµ·æ¹–ç­‰">
        </div>
        <div class="form-item">
            <label for="perfectMeal">æœ€å®Œç¾çš„ä¸€é¤</label>
            <input type="text" id="perfectMeal" placeholder="ä¾‹å¦‚ï¼šäº¬éƒ½çš„æ€€çŸ³æ–™ç†ï¼Œæ›¼è°·çš„è·¯è¾¹æ‘Šå†¬é˜´åŠŸç­‰">
        </div>

        <button id="generateBtn">ç”Ÿæˆæˆ‘çš„æ–°å¹´æ—…è¡ŒFLAGæµ·æŠ¥</button>
    </div>

    <!-- æµ·æŠ¥å®¹å™¨ -->
    <div class="poster-container" id="posterContainer">
        <div id="posterTemplate">
            <div class="poster-content">
                <h2 class="poster-title">2026 æ–°å¹´æ—…è¡ŒFLAG</h2>
                
                <div class="user-info">
                    <p>ç«‹flagäººï¼š<span id="showUsername"></span></p>
                    <p>æ—…è¡Œå°ç›®æ ‡ï¼š<span id="showTravelGoal"></span></p>
                </div>

                <h3 class="poster-section-title">âœ¨ æ–°ç¨‹å¾…è§£é” âœ¨</h3>
                <div class="destinations-content" id="showDestinations">
                    <strong>æœ€æƒ³è§£é”çš„æ—…è¡Œç›®çš„åœ°ï¼š</strong><br>
                    1. <span id="showDest1"></span><br>
                    2. <span id="showDest2"></span><br>
                    3. <span id="showDest3"></span>
                </div>

                <h3 class="poster-section-title">ğŸ“ æ—…è¡Œå›å¿†å½• ğŸ“</h3>
                <div class="review-content" id="showReview">
                    <strong>å»è¿‡æœ€è¿œçš„åœ°æ–¹ï¼š</strong><span id="showFarthestPlace"></span><br>
                    <strong>æœ€ç¾çš„æ—¥å‡º/æ—¥è½ï¼š</strong><span id="showBestSunriseSunset"></span><br>
                    <strong>æœ€å®Œç¾çš„ä¸€é¤ï¼š</strong><span id="showPerfectMeal"></span>
                </div>
            </div>
        </div>
        <button id="saveBtn">ä¿å­˜æµ·æŠ¥åˆ°æœ¬åœ°</button>
    </div>

    <script>
        // è·å–å…ƒç´ 
        const generateBtn = document.getElementById('generateBtn');
        const saveBtn = document.getElementById('saveBtn');
        const posterContainer = document.getElementById('posterContainer');
        const posterTemplate = document.getElementById('posterTemplate');
        
        // è¡¨å•å…ƒç´ 
        const username = document.getElementById('username');
        const travelGoal = document.getElementById('travelGoal');
        const dest1 = document.getElementById('dest1');
        const dest2 = document.getElementById('dest2');
        const dest3 = document.getElementById('dest3');
        // æ—…è¡Œå›é¡¾è¡¨å•å…ƒç´ 
        const farthestPlace = document.getElementById('farthestPlace');
        const bestSunriseSunset = document.getElementById('bestSunriseSunset');
        const perfectMeal = document.getElementById('perfectMeal');
        
        // æµ·æŠ¥å±•ç¤ºå…ƒç´ 
        const showUsername = document.getElementById('showUsername');
        const showTravelGoal = document.getElementById('showTravelGoal');
        const showDest1 = document.getElementById('showDest1');
        const showDest2 = document.getElementById('showDest2');
        const showDest3 = document.getElementById('showDest3');
        const showFarthestPlace = document.getElementById('showFarthestPlace');
        const showBestSunriseSunset = document.getElementById('showBestSunriseSunset');
        const showPerfectMeal = document.getElementById('showPerfectMeal');

        // ç”Ÿæˆæµ·æŠ¥
        generateBtn.addEventListener('click', function() {
            // éªŒè¯å¿…å¡«é¡¹
            if (!username.value.trim() || !travelGoal.value.trim()) {
                alert('åå­—å’Œæ—…è¡Œå°ç›®æ ‡ä¸èƒ½ä¸ºç©ºå“¦ï¼');
                return;
            }
            // å¡«å……åŸºç¡€å†…å®¹åˆ°æµ·æŠ¥
            showUsername.innerText = username.value.trim();
            showTravelGoal.innerText = travelGoal.value.trim();
            
            // å¡«å……å¾…è§£é”ç›®çš„åœ°ï¼ˆæœªå¡«å†™åˆ™æ˜¾ç¤ºâ€œå¾…æ¢ç´¢â€ï¼‰
            showDest1.innerText = dest1.value.trim() || 'å¾…æ¢ç´¢';
            showDest2.innerText = dest2.value.trim() || 'å¾…æ¢ç´¢';
            showDest3.innerText = dest3.value.trim() || 'å¾…æ¢ç´¢';
            
            // å¡«å……æ—…è¡Œå›é¡¾ï¼ˆæœªå¡«å†™åˆ™æ˜¾ç¤ºâ€œæš‚æ— è®°å½•â€ï¼‰
            showFarthestPlace.innerText = farthestPlace.value.trim() || 'æš‚æ— è®°å½•';
            showBestSunriseSunset.innerText = bestSunriseSunset.value.trim() || 'æš‚æ— è®°å½•';
            showPerfectMeal.innerText = perfectMeal.value.trim() || 'æš‚æ— è®°å½•';
            
            // æ˜¾ç¤ºæµ·æŠ¥å¹¶æ»šåŠ¨
            posterContainer.style.display = 'block';
            posterContainer.scrollIntoView({ behavior: 'smooth' });
        });

        // ä¿å­˜æµ·æŠ¥
        saveBtn.addEventListener('click', function() {
            html2canvas(posterTemplate, {
                scale: 3, // 3å€é«˜æ¸…ç”Ÿæˆï¼Œè§£å†³æ¨¡ç³Š
                useCORS: true, // æ”¯æŒè·¨åŸŸèƒŒæ™¯å›¾
                backgroundColor: null, // ä¿ç•™èƒŒæ™¯åŸå§‹æ ·å¼
                logging: false // å…³é—­æ§åˆ¶å°æ—¥å¿—
            }).then(canvas => {
                const imgUrl = canvas.toDataURL('image/png');
                const a = document.createElement('a');
                a.href = imgUrl;
                a.download = `${username.value.trim()}-2026æ–°å¹´æ—…è¡ŒFLAG.png`;
                a.click();
                a.remove();
                alert('æ—…è¡Œæµ·æŠ¥ä¿å­˜æˆåŠŸï¼å¿«å»åˆ†äº«å§ï½');
            }).catch(err => {
                console.error('ç”Ÿæˆå¤±è´¥ï¼š', err);
                alert('æµ·æŠ¥ä¿å­˜å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•ï½');
            });
        });
    </script>
</body>
</html>